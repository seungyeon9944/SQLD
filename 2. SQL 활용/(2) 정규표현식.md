### ⭐정규표현식

문자열 패턴 정의, 검색, 치환할 수 있는 표현

| **함수명**  | **설명** | **예시 (Oracle 기준)** |
| --- | --- | --- |
| `REGEXP_COUNT` | 문자열 내에서 **패턴**이 **몇 번 나오는지** 개수 반환 | `REGEXP_COUNT('a1b2c3', '[0-9]')` → 3 (숫자 3개) |
| `REGEXP_LIKE` | 조건절에서 문자열이 **패턴과 일치하는지 TRUE/FALSE** 반환 | `WHERE REGEXP_LIKE(name, '^A')` → 이름이 A로 시작하면 참 |
| `REGEXP_REPLACE` | 문자열에서 **일치하는 패턴을 다른 문자열로 치환** | `REGEXP_REPLACE('010-1234-5678', '[^0-9]', '')` → '01012345678' |
| `REGEXP_INSTR` | 문자열 내에서 **패턴이 시작되는 위치(숫자)** 반환 | `REGEXP_INSTR('abc123', '[0-9]+')` → 4(숫자 시작 위치) |
| `REGEXP_SUBSTR` | 문자열에서 **패턴과 일치하는 부분**을 추출 *(단 하나의 문자열만)* | `REGEXP_SUBSTR('abc123', '[0-9]+')` → '123' |

✏️ 오답노트

```sql
# <TAB1>의 COL1이 'AXXX.AYYY.AXAX.'과 'AAXYXY.XYYY.AXYAXY.'일 때
SELECT REGEXP_REPLACE(COL1, 'A(X|Y)+\.') FROM TAB1; # 'AX'와 'AXYXY.AXY'
```

| **기호** | **의미** | **예시** |
| --- | --- | --- |
| ₩ | 메타 문자를 그대로 사용하거나 특수문자를 표현할 때 사용 | ₩₩ → \₩n → 줄바꿈 문자 (newline) |
| ^ | 문자열의 **시작 위치**를 지정 | ^abc → abc 로 시작하는 문자열 |
| $ | 문자열의 **끝 위치**를 지정 | abc$ → abc 로 끝나는 문자열 |
| . | 임의의 한 문자 | a.c → abc, acc 가능 |
| ***** | **0회 이상 반복** | a* → '', 'a', 'aaaa' |
| **+** | **1회 이상 반복** | a+ → 'a', 'aaa' |
| **?** | **0회 또는 1회 반복** | a? → '', 'a' |
| **{m, }** | **m회 이상 반복** | a{2, } → 'aa', 'aaa' |
| [ ] | 문자 집합 | [abc] → a, b, c 중 하나 |
| [^ ] | **괄호 안에 없는 문자 (부정 문자 집합)** | [^0-9] → 숫자 제외 |
| ( ) | 그룹 지정 | (abc)+ |
| \d | 숫자(0~9) |  |

*✏️ WHERE REGEXP_LIKE(COL1, ‘[XY-]+Z?’) 하면 X, Y, - 중 하나가 여러 개 반복되면서 그 뒤에 Z가 오는 값이 딱 한개이거나 없거나.*

*✏️* WHERE REGEXP_LIKE(COL1, **‘[^]’**)*면 ^를 일반기호처럼 해석해서 검색 가능*

*✏️*SELECT ‘’’A’’’’’ FROM DUAL; *하면* **‘ + “ + A + “ + “ + ‘** = **문자열표현시작 + ‘ + A + ‘ + ‘ + 문자열표현끝**